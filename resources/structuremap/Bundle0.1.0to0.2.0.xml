<?xml version="1.0" encoding="UTF-8"?>

<StructureMap xmlns="http://hl7.org/fhir">
  <id value="Bundle0.1.0to0.2.0"/>
  <text>
    <status value="generated"/><div xmlns="http://www.w3.org/1999/xhtml"><pre>map &quot;http://chmed16af.emediplan.ch/fhir/StructureMap/Bundle0.1.0to0.2.0&quot; = &quot;ConversionForDomainResource&quot;

uses &quot;http://hl7.org/fhir/StructureDefinition/Bundle&quot; alias Bundle as source
uses &quot;http://hl7.org/fhir/StructureDefinition/Bundle&quot; alias Bundle as target

imports &quot;http://chmed16af.emediplan.ch/fhir/StructureMap/*0.1.0to0.2.0&quot;

group Bundle(source src : Bundle, target tgt : Bundle) extends Resource &lt;&lt;type+&gt;&gt; {
  src.identifier as v -&gt; tgt.identifier = v;
  src.type as v -&gt; tgt.type = v;
  src.total as v -&gt; tgt.total = v;
  src.link as vs0 -&gt; tgt.link as vt0 then link(vs0, vt0);
  src.entry as vs0 -&gt; tgt.entry as vt0 then entry(vs0, vt0);
  src.signature as v -&gt; tgt.signature = v;
}

group link(source src, target tgt) extends BackboneElement {
  src.relation as v -&gt; tgt.relation = v;
  src.url as v -&gt; tgt.url = v;
}

group entry(source src, target tgt) extends BackboneElement {
  src.fullUrl as v -&gt; tgt.fullUrl = v;
  src.resource as v -&gt; tgt.resource = v;
  src.search as vs0 -&gt; tgt.search as vt0 then search(vs0, vt0);
  src.request as vs0 -&gt; tgt.request as vt0 then request(vs0, vt0);
  src.response as vs0 -&gt; tgt.response as vt0 then response(vs0, vt0);
}

group search(source src, target tgt) extends BackboneElement {
  src.mode as v -&gt; tgt.mode = v;
  src.score as v -&gt; tgt.score = v;
}

group request(source src, target tgt) extends BackboneElement {
  src.method as v -&gt; tgt.method = v;
  src.url as v -&gt; tgt.url = v;
  src.ifNoneMatch as v -&gt; tgt.ifNoneMatch = v;
  src.ifModifiedSince as v -&gt; tgt.ifModifiedSince = v;
  src.ifMatch as v -&gt; tgt.ifMatch = v;
  src.ifNoneExist as v -&gt; tgt.ifNoneExist = v;
}

group response(source src, target tgt) extends BackboneElement {
  src.status as v -&gt; tgt.status = v;
  src.location as v -&gt; tgt.location = v;
  src.etag as v -&gt; tgt.etag = v;
  src.lastModified as v -&gt; tgt.lastModified = v;
  src.outcome as v -&gt; tgt.outcome = v;
}

</pre></div>
  </text>
  <url value="http://chmed16af.emediplan.ch/fhir/StructureMap/Bundle0.1.0to0.2.0"/>
  <version value="0.2.0"/>
  <name value="ConversionForDomainResource"/>
  <title value="Conversion for DomainResource"/>
  <status value="active"/>
  <date value="2019-06-25T15:21:44+02:00"/>
  <structure>
    <url value="http://hl7.org/fhir/StructureDefinition/Bundle"/>
    <mode value="source"/>
    <alias value="Bundle"/>
  </structure>
  <structure>
    <url value="http://hl7.org/fhir/StructureDefinition/Bundle"/>
    <mode value="target"/>
    <alias value="Bundle"/>
  </structure>
  <import value="http://chmed16af.emediplan.ch/fhir/StructureMap/*0.1.0to0.2.0"/>
  <group>
    <name value="Bundle"/>
    <extends value="Resource"/>
    <typeMode value="type-and-types"/>
    <input>
      <name value="src"/>
      <type value="Bundle"/>
      <mode value="source"/>
    </input>
    <input>
      <name value="tgt"/>
      <type value="Bundle"/>
      <mode value="target"/>
    </input>
    <rule>
      <name value="identifier"/>
      <source>
        <context value="src"/>
        <element value="identifier"/>
        <variable value="v"/>
      </source>
      <target>
        <context value="tgt"/>
        <contextType value="variable"/>
        <element value="identifier"/>
        <transform value="copy"/>
        <parameter>
          <valueId value="v"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="type"/>
      <source>
        <context value="src"/>
        <element value="type"/>
        <variable value="v"/>
      </source>
      <target>
        <context value="tgt"/>
        <contextType value="variable"/>
        <element value="type"/>
        <transform value="copy"/>
        <parameter>
          <valueId value="v"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="total"/>
      <source>
        <context value="src"/>
        <element value="total"/>
        <variable value="v"/>
      </source>
      <target>
        <context value="tgt"/>
        <contextType value="variable"/>
        <element value="total"/>
        <transform value="copy"/>
        <parameter>
          <valueId value="v"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="link"/>
      <source>
        <context value="src"/>
        <element value="link"/>
        <variable value="vs0"/>
      </source>
      <target>
        <context value="tgt"/>
        <contextType value="variable"/>
        <element value="link"/>
        <variable value="vt0"/>
      </target>
      <dependent>
        <name value="link"/>
        <variable value="vs0"/>
        <variable value="vt0"/>
      </dependent>
    </rule>
    <rule>
      <name value="entry"/>
      <source>
        <context value="src"/>
        <element value="entry"/>
        <variable value="vs0"/>
      </source>
      <target>
        <context value="tgt"/>
        <contextType value="variable"/>
        <element value="entry"/>
        <variable value="vt0"/>
      </target>
      <dependent>
        <name value="entry"/>
        <variable value="vs0"/>
        <variable value="vt0"/>
      </dependent>
    </rule>
    <rule>
      <name value="signature"/>
      <source>
        <context value="src"/>
        <element value="signature"/>
        <variable value="v"/>
      </source>
      <target>
        <context value="tgt"/>
        <contextType value="variable"/>
        <element value="signature"/>
        <transform value="copy"/>
        <parameter>
          <valueId value="v"/>
        </parameter>
      </target>
    </rule>
  </group>
  <group>
    <name value="link"/>
    <extends value="BackboneElement"/>
    <typeMode value="none"/>
    <input>
      <name value="src"/>
      <mode value="source"/>
    </input>
    <input>
      <name value="tgt"/>
      <mode value="target"/>
    </input>
    <rule>
      <name value="relation"/>
      <source>
        <context value="src"/>
        <element value="relation"/>
        <variable value="v"/>
      </source>
      <target>
        <context value="tgt"/>
        <contextType value="variable"/>
        <element value="relation"/>
        <transform value="copy"/>
        <parameter>
          <valueId value="v"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="url"/>
      <source>
        <context value="src"/>
        <element value="url"/>
        <variable value="v"/>
      </source>
      <target>
        <context value="tgt"/>
        <contextType value="variable"/>
        <element value="url"/>
        <transform value="copy"/>
        <parameter>
          <valueId value="v"/>
        </parameter>
      </target>
    </rule>
  </group>
  <group>
    <name value="entry"/>
    <extends value="BackboneElement"/>
    <typeMode value="none"/>
    <input>
      <name value="src"/>
      <mode value="source"/>
    </input>
    <input>
      <name value="tgt"/>
      <mode value="target"/>
    </input>
    <rule>
      <name value="fullUrl"/>
      <source>
        <context value="src"/>
        <element value="fullUrl"/>
        <variable value="v"/>
      </source>
      <target>
        <context value="tgt"/>
        <contextType value="variable"/>
        <element value="fullUrl"/>
        <transform value="copy"/>
        <parameter>
          <valueId value="v"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="resource"/>
      <source>
        <context value="src"/>
        <element value="resource"/>
        <variable value="v"/>
      </source>
      <target>
        <context value="tgt"/>
        <contextType value="variable"/>
        <element value="resource"/>
        <transform value="copy"/>
        <parameter>
          <valueId value="v"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="search"/>
      <source>
        <context value="src"/>
        <element value="search"/>
        <variable value="vs0"/>
      </source>
      <target>
        <context value="tgt"/>
        <contextType value="variable"/>
        <element value="search"/>
        <variable value="vt0"/>
      </target>
      <dependent>
        <name value="search"/>
        <variable value="vs0"/>
        <variable value="vt0"/>
      </dependent>
    </rule>
    <rule>
      <name value="request"/>
      <source>
        <context value="src"/>
        <element value="request"/>
        <variable value="vs0"/>
      </source>
      <target>
        <context value="tgt"/>
        <contextType value="variable"/>
        <element value="request"/>
        <variable value="vt0"/>
      </target>
      <dependent>
        <name value="request"/>
        <variable value="vs0"/>
        <variable value="vt0"/>
      </dependent>
    </rule>
    <rule>
      <name value="response"/>
      <source>
        <context value="src"/>
        <element value="response"/>
        <variable value="vs0"/>
      </source>
      <target>
        <context value="tgt"/>
        <contextType value="variable"/>
        <element value="response"/>
        <variable value="vt0"/>
      </target>
      <dependent>
        <name value="response"/>
        <variable value="vs0"/>
        <variable value="vt0"/>
      </dependent>
    </rule>
  </group>
  <group>
    <name value="search"/>
    <extends value="BackboneElement"/>
    <typeMode value="none"/>
    <input>
      <name value="src"/>
      <mode value="source"/>
    </input>
    <input>
      <name value="tgt"/>
      <mode value="target"/>
    </input>
    <rule>
      <name value="mode"/>
      <source>
        <context value="src"/>
        <element value="mode"/>
        <variable value="v"/>
      </source>
      <target>
        <context value="tgt"/>
        <contextType value="variable"/>
        <element value="mode"/>
        <transform value="copy"/>
        <parameter>
          <valueId value="v"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="score"/>
      <source>
        <context value="src"/>
        <element value="score"/>
        <variable value="v"/>
      </source>
      <target>
        <context value="tgt"/>
        <contextType value="variable"/>
        <element value="score"/>
        <transform value="copy"/>
        <parameter>
          <valueId value="v"/>
        </parameter>
      </target>
    </rule>
  </group>
  <group>
    <name value="request"/>
    <extends value="BackboneElement"/>
    <typeMode value="none"/>
    <input>
      <name value="src"/>
      <mode value="source"/>
    </input>
    <input>
      <name value="tgt"/>
      <mode value="target"/>
    </input>
    <rule>
      <name value="method"/>
      <source>
        <context value="src"/>
        <element value="method"/>
        <variable value="v"/>
      </source>
      <target>
        <context value="tgt"/>
        <contextType value="variable"/>
        <element value="method"/>
        <transform value="copy"/>
        <parameter>
          <valueId value="v"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="url"/>
      <source>
        <context value="src"/>
        <element value="url"/>
        <variable value="v"/>
      </source>
      <target>
        <context value="tgt"/>
        <contextType value="variable"/>
        <element value="url"/>
        <transform value="copy"/>
        <parameter>
          <valueId value="v"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="ifNoneMatch"/>
      <source>
        <context value="src"/>
        <element value="ifNoneMatch"/>
        <variable value="v"/>
      </source>
      <target>
        <context value="tgt"/>
        <contextType value="variable"/>
        <element value="ifNoneMatch"/>
        <transform value="copy"/>
        <parameter>
          <valueId value="v"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="ifModifiedSince"/>
      <source>
        <context value="src"/>
        <element value="ifModifiedSince"/>
        <variable value="v"/>
      </source>
      <target>
        <context value="tgt"/>
        <contextType value="variable"/>
        <element value="ifModifiedSince"/>
        <transform value="copy"/>
        <parameter>
          <valueId value="v"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="ifMatch"/>
      <source>
        <context value="src"/>
        <element value="ifMatch"/>
        <variable value="v"/>
      </source>
      <target>
        <context value="tgt"/>
        <contextType value="variable"/>
        <element value="ifMatch"/>
        <transform value="copy"/>
        <parameter>
          <valueId value="v"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="ifNoneExist"/>
      <source>
        <context value="src"/>
        <element value="ifNoneExist"/>
        <variable value="v"/>
      </source>
      <target>
        <context value="tgt"/>
        <contextType value="variable"/>
        <element value="ifNoneExist"/>
        <transform value="copy"/>
        <parameter>
          <valueId value="v"/>
        </parameter>
      </target>
    </rule>
  </group>
  <group>
    <name value="response"/>
    <extends value="BackboneElement"/>
    <typeMode value="none"/>
    <input>
      <name value="src"/>
      <mode value="source"/>
    </input>
    <input>
      <name value="tgt"/>
      <mode value="target"/>
    </input>
    <rule>
      <name value="status"/>
      <source>
        <context value="src"/>
        <element value="status"/>
        <variable value="v"/>
      </source>
      <target>
        <context value="tgt"/>
        <contextType value="variable"/>
        <element value="status"/>
        <transform value="copy"/>
        <parameter>
          <valueId value="v"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="location"/>
      <source>
        <context value="src"/>
        <element value="location"/>
        <variable value="v"/>
      </source>
      <target>
        <context value="tgt"/>
        <contextType value="variable"/>
        <element value="location"/>
        <transform value="copy"/>
        <parameter>
          <valueId value="v"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="etag"/>
      <source>
        <context value="src"/>
        <element value="etag"/>
        <variable value="v"/>
      </source>
      <target>
        <context value="tgt"/>
        <contextType value="variable"/>
        <element value="etag"/>
        <transform value="copy"/>
        <parameter>
          <valueId value="v"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="lastModified"/>
      <source>
        <context value="src"/>
        <element value="lastModified"/>
        <variable value="v"/>
      </source>
      <target>
        <context value="tgt"/>
        <contextType value="variable"/>
        <element value="lastModified"/>
        <transform value="copy"/>
        <parameter>
          <valueId value="v"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="outcome"/>
      <source>
        <context value="src"/>
        <element value="outcome"/>
        <variable value="v"/>
      </source>
      <target>
        <context value="tgt"/>
        <contextType value="variable"/>
        <element value="outcome"/>
        <transform value="copy"/>
        <parameter>
          <valueId value="v"/>
        </parameter>
      </target>
    </rule>
  </group>
</StructureMap>